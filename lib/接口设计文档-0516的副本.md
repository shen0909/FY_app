

# keynote_enterprise_app

## 1 舆情热点

------

### 1.1 region动态参数管理

 #### 1.1.1 获取region支持的参数

- 接口地址：`/api/sh_news/region_args`

- 请求方式：`GET`

- 请求参数：无

- 响应示例：

```json
{
  "code": 10010,
  "message": "success",
  "data": [
    {
      "id": "1920569911357346064",
      "region": "美国"
    },
    {
      "id": "1920569911357346065",
      "region": "日本"
    }
  ]
}
```

 #### 1.1.2  添加region支持的参数

- 接口地址：`/api/sh_news/region_args`

- 请求方式：`POST`

- 请求参数：

| 参数   | 类型 | 必填 | 说明     |
| ------ | ---- | ---- | -------- |
| region | str  | 是   | 新增地区 |

- 响应示例：

```json
{
  "code": 10010,
  "message": "success",
  "data": 1
}
```

 #### 1.1.3 修改region支持的参数

- 接口地址：`/api/sh_news/region_args`

- 请求方式：`PUT`

- 请求参数：

| 参数   | 类型 | 必填 | 说明         |
| ------ | ---- | ---- | ------------ |
| id     | str  | 是   | 地区对应id   |
| region | str  | 是   | 修改为新地区 |

- 响应示例：

```json
{
  "code": 10010,
  "message": "success",
  "data": 1
}
```

 #### 1.1.4 删除region支持的参数

- 接口地址：`/api/sh_news/region_args`

- 请求方式：`DELETE`

- 请求参数：

| 参数 | 类型 | 必填 | 说明       |
| ---- | ---- | ---- | ---------- |
| id   | str  | 是   | 地区对应id |

- 响应示例：

```json
{
  "code": 10010,
  "message": "success",
  "data": 1
}
```

### 1.2获取新闻列表

- 接口地址：`/api/sh_news/list`
- 请求方式：`POST`
- 请求参数：

| 参数         | 类型   | 必填 | 说明                                |
| ------------ | ------ | ---- | ----------------------------------- |
| current_page | int    | 是   | 当前页码（默认1）                   |
| page_size    | int    | 是   | 每页数量（默认10）                  |
| news_type    | string | 是   | 新闻类型（默认全部）                |
| region       | string | 是   | 地区（默认全部）,动态参数           |
| date_filter  | string | 可选 | 时间段（‘全部’、‘3d’、‘7d’、‘30d’） |
| start_date   | string | 可选 | 开始日期（“2025-05-01”）            |
| end_date     | string | 可选 | 结束日期（“2025-05-10”）            |
| search       | string | 可选 | 搜索内容                            |

- news_type
  - 全部
  - 制裁打压 
  - 起诉调查
  - 脱钩断链
  - 外资渗透
  - 专家人才
  - 负面舆情
- date_filter
  - 全部
  - 3d（近三天）
  - 7d（近一周）
  - 30d（近一个月）
- 响应示例：

```json
{
  "code": 10010,
  "message": "success",
  "data": [
    {
      "news_id": "1920569911357346064",
      "news_title": "新闻标题",
      "news_source_url": "新闻原文连接https://...",
      "news_summary": "新闻摘要...",
      "publish_time": "2025-05-06 19:11:18",
      "news_medium": "美国贸易代表办公室",
      "google_keyword": "keyword",
      "news_type": "制裁打压",
      "region": "东南亚"
    }
  ]
}
```
- 响应示例

```json
{
  "code": 10016,
  "message": "已经是最后一页了",
  "data": []
}
```
------

### 1.3 获取新闻详情

- 接口地址：`/api/sh_news/detail_fetch`
- 请求方式：`GET`
- 请求参数：

| 参数    | 类型 | 必填 | 说明   |
| ------- | ---- | ---- | ------ |
| news_id | str  | 是   | 新闻id |

- 响应示例：

```json
{
  "code": 10010,
  "message": "success",
  "data": {
    "news_id": "# 用户ID",
    "news_title": "# 新闻标题",
    "news_type": "# 新闻类型",
    "news_medium": "# 新闻媒体",
    "google_keyword": "# google搜索关键词",
    "publish_time": "# 发布时间",
    "news_summary": "# 新闻摘要",
    "region": "# 地区",
    "risk_analysis ": "# 风险分析",
    "effect": {
      "direct_effect": [],
      "indirect_effect": [],
      "effect_company": []
    },
    "relevant_news": [
      {
        "id": "1903174194926070310",
        "title": "美国制裁伊朗石油出口，中国进口或受影响",
        "time": "2025-03-21 19:01:46"
      },
      {
        "id": "1903174194926070310",
        "title": "美国制裁中国炼油商和油轮，伊朗石油对华出口将短期下滑",
        "time": "2025-03-21 19:01:46"
      },
      {
        "id": "1899549674277316781",
        "title": "美国制裁未能阻止伊朗石油输华，反而加大贸易风险",
        "time": "2025-03-11 04:01:51"
      }
    ],
    "future_progression": [
      {
        "title": "美国制裁伊朗石油出口，中国进口或受影响",
        "time": "2025年5-6月"
      },
      {
        "title": "美国制裁中国炼油商和油轮，伊朗石油对华出口将短期下滑",
        "time": "2025年7-9月"
      },
      {
        "title": "美国制裁未能阻止伊朗石油输华，反而加大贸易风险",
        "time": "2025年10-12月"
      }
    ],
    "decision_suggestion": {
      "overall_strategy": "Improve platform stability and user experience through phased optimization and system upgrades.",
      "short_term_measures": "",
      "mid_term_measures": "",
      "long_term_measures": ""
    },
    "risk_measure": [
      {
        "风险场景": "服务器宕机",
        "可能性": "中",
        "影响程度": "高",
        "应对措施": "部署高可用架构，配置自动重启与报警机制"
      },
      {
        "风险场景": "数据库数据丢失",
        "可能性": "低",
        "影响程度": "高",
        "应对措施": "定期备份数据库，配置多节点数据同步"
      },
      {
        "风险场景": "代码被恶意篡改",
        "可能性": "低",
        "影响程度": "低",
        "应对措施": "配置代码仓库权限，启用审计日志和CI安全扫描"
      }
    ],
    "origin_context": "# 新闻原文",
    "translated_context": "# 新闻译文",
    "news_source_url": "# 新闻原文链接"
  }
}
```

------

### 1.4 导出报告

- 接口地址：`/api/sh_news/detail_report`
- 请求方式：`GET`
- 请求参数：

| 参数    | 类型 | 必填 | 说明   |
| ------- | ---- | ---- | ------ |
| news_id | str  | 是   | 新闻id |

- 响应示例：返回word文档文件

------




